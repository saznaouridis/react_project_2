{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\ksaadmin\\\\Desktop\\\\react_project_2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\ksaadmin\\\\Desktop\\\\react_project_2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\ksaadmin\\\\Desktop\\\\react_project_2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,Fragment,useEffect}from'react';import{BrowserRouter as Router,Switch,Route,Link}from\"react-router-dom\";//components \nimport AddCountryForm from'./components/AddCountryForm';import EditCountryForm from'./components/EditCountryForm';import CountryForm from'./components/CountryForm';import axios from'axios';import'./App.css';var App=function App(){// Data\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),countriesData=_useState2[0],setCountriesData=_useState2[1];var initialState={id:null,name:'',capital:''};// Setting state\nvar _useState3=useState(countriesData),_useState4=_slicedToArray(_useState3,2),countries=_useState4[0],setCountries=_useState4[1];var _useState5=useState(initialState),_useState6=_slicedToArray(_useState5,2),curCountry=_useState6[0],setCurCountry=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),edit=_useState8[0],setEdit=_useState8[1];// CRUD operations\nvar addCountry=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(country){var id;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"/\",country);case 2:id=_context.sent;getData();case 4:case\"end\":return _context.stop();}}},_callee);}));return function addCountry(_x){return _ref.apply(this,arguments);};}();var deleteCountry=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setEdit(false);_context2.next=3;return axios.delete(\"/\".concat(id));case 3:getData();case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteCountry(_x2){return _ref2.apply(this,arguments);};}();var updateCountry=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id,updatedCountry){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setEdit(false);console.log(id);_context3.next=4;return axios.put(\"/\".concat(id),updatedCountry);case 4:getData();case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function updateCountry(_x3,_x4){return _ref3.apply(this,arguments);};}();var getData=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.get(\"/countries\");case 2:_yield$axios$get=_context4.sent;data=_yield$axios$get.data;setCountriesData(data);setCountries(data);case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function getData(){return _ref4.apply(this,arguments);};}();useEffect(function(){getData();},[]);var editRow=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(country){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:setEdit(true);setCurCountry(country);case 2:case\"end\":return _context5.stop();}}},_callee5);}));return function editRow(_x5){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"nav\",null,/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Home\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/info\"},\"Info\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/countries\"},\"Countries\")))),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/info\"},/*#__PURE__*/React.createElement(Info,null)),/*#__PURE__*/React.createElement(Route,{path:\"/countries\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",{id:\"hed1\"},\"Application\"),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-large classleft\"},edit?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"h2\",null,\"Edit\"),/*#__PURE__*/React.createElement(EditCountryForm,{edit:edit,setEdit:setEdit,curCountry:curCountry,updateCountry:updateCountry})):/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"h2\",null,\"Fill the brackets\"),/*#__PURE__*/React.createElement(AddCountryForm,{addCountry:addCountry}))),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-large classright\"},/*#__PURE__*/React.createElement(\"h2\",null,\"View\"),/*#__PURE__*/React.createElement(CountryForm,{countries:countries,editRow:editRow,deleteCountry:deleteCountry}))))),/*#__PURE__*/React.createElement(Route,{path:\"/\"},/*#__PURE__*/React.createElement(Home,null)))));function Home(){return/*#__PURE__*/React.createElement(\"h1\",{id:\"hed2\"},\"Home\");}function Info(){return/*#__PURE__*/React.createElement(\"h1\",{id:\"hed3\"},\"Info\");}};export default App;","map":{"version":3,"sources":["C:/Users/ksaadmin/Desktop/react_project_2/frontend/src/App.js"],"names":["React","useState","Fragment","useEffect","BrowserRouter","Router","Switch","Route","Link","AddCountryForm","EditCountryForm","CountryForm","axios","App","countriesData","setCountriesData","initialState","id","name","capital","countries","setCountries","curCountry","setCurCountry","edit","setEdit","addCountry","country","post","getData","deleteCountry","delete","updateCountry","updatedCountry","console","log","put","get","data","editRow","Home","Info"],"mappings":"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","sourcesContent":["import React, { useState, Fragment, useEffect } from 'react'\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\n//components \n\nimport AddCountryForm from './components/AddCountryForm'\nimport EditCountryForm from './components/EditCountryForm'\nimport CountryForm from './components/CountryForm'\nimport axios from 'axios';\nimport './App.css'\n\nconst App = () => {\n\n\t// Data\n\t\n\tconst [countriesData,setCountriesData] = useState([]);\t\n\tconst initialState = { id: null, name: '', capital: '' }\n\n\t// Setting state\n\tconst [ countries, setCountries ] = useState(countriesData)\n\tconst [ curCountry, setCurCountry ] = useState(initialState)\n\tconst [ edit, setEdit ] = useState(false)\n\n\t// CRUD operations\n\n\tconst addCountry = async (country) => {\n\t\tconst id = await axios.post(`/`,country);\n\t\tgetData();\n\t}\n\tconst deleteCountry = async (id) => {\n\t\tsetEdit(false)\n\t\tawait axios.delete(`/${id}`);\n\t\tgetData();\n\t}\n\tconst updateCountry = async (id, updatedCountry) => {\n\t\tsetEdit(false)\n\t\tconsole.log(id);\n\t\tawait axios.put(`/${id}`,updatedCountry);\n\t\tgetData();\n\t}\n\tconst getData = async () =>{\n\t\t\tconst {data} = await axios.get(`/countries`);\n\t\t\tsetCountriesData(data);\n\t\t\tsetCountries(data);\n\t}\n\tuseEffect(()=>{\n\t\tgetData();\n\t},[])\n\tconst editRow = async (country) => {\n\t\tsetEdit(true)\n\t\tsetCurCountry(country)\n\t}\n\treturn (\n\t<Router>\n\t\t<div>\n\t\t\t<nav>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to=\"/\" >Home</Link>\n\t\t\t\t  \t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to=\"/info\">Info</Link>\n\t\t\t\t  \t</li>\n\t\t\t\t  \t<li>\n\t\t\t\t\t\t<Link to=\"/countries\">Countries</Link>\n\t\t\t\t  \t</li>\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t\t\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/info\">\n\t\t\t\t\t<Info />\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/countries\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<h1 id = \"hed1\">Application</h1>\n\t\t\t\t\t\t<div className=\"flex-row\">\n\t\t\t\t\t\t\t<div className=\"flex-large classleft\">\n\t\t\t\t\t\t\t\t{edit ? (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<h2>Edit</h2>\n\t\t\t\t\t\t\t\t\t<EditCountryForm\n\t\t\t\t\t\t\t\t\tedit={edit}\n\t\t\t\t\t\t\t\t\tsetEdit={setEdit}\n\t\t\t\t\t\t\t\t\tcurCountry={curCountry}\n\t\t\t\t\t\t\t\t\tupdateCountry={updateCountry}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<h2>Fill the brackets</h2>\n\t\t\t\t\t\t\t\t\t<AddCountryForm addCountry={addCountry} />\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"flex-large classright\">\n\t\t\t\t\t\t\t\t<h2>View</h2>\n\t\t\t\t\t\t\t\t<CountryForm countries={countries} editRow={editRow} deleteCountry={deleteCountry} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t<Home />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</div>\n\t</Router>\n\t)\n\tfunction Home() {\n\t\treturn <h1 id = \"hed2\">Home</h1>;\n\t  }\n\tfunction Info() {\n\t\treturn <h1 id = \"hed3\">Info</h1>;\n\t  }\n}\nexport default App\n"]},"metadata":{},"sourceType":"module"}